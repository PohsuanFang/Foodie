<!DOCTYPE html>
<html>

        <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
        <script src="coffee1mile.js"></script>
        <script src="coffeeshops.js"></script>
        
        <script>
        
        function init(){
//load the data first from the coffeeshop js file
        loaddata();
        var latlng=new google.maps.LatLng(42.359184,-71.093544);
        var myOptions={
            zoom : 12,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        
        var map=new google.maps.Map(document.getElementById('map'), myOptions);
     	
        var i=0;
        var newCoffeinfo={};
        coffeeList.forEach(function(coordinate, index)
        {
            
            newCoffeinfo=coffeeList[i];
            // console.log("setting marker coffeeList.newCoffeinfo = "+newCoffeinfo.name);
            new google.maps.Marker({
            position: new google.maps.LatLng(newCoffeinfo.lat,newCoffeinfo.lng),
            map: map,
            title: newCoffeinfo.name})
            // console.log("setting marker coffeeList"+coffeeList)
            i++;
        });
        };
        
        
        
        google.maps.event.addDomListener(window,'load',init);
        
        
        </script>
        
        <div id="map" style="width: 640px; height: 480px"></div>
        
        </html>